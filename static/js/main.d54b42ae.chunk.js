(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n.p+"static/media/dj.664c716d.svg"},,,function(e,t,n){e.exports=n.p+"static/media/sleep.563190f5.jpg"},function(e,t,n){e.exports=n(17)},,,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/cat-5.fd18543b.svg"},function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(8),s=n.n(i),o=(n(15),n(1)),c=n(2),r=n(5),m=n(4),u=n(3),d=n.n(u),g=n(6),y=n.n(g),p=new d.a,h=function(e){Object(r.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(o.a)(this,n);var a=(e=t.call(this)).getHashParams();return e.state={loggedIn:!!a.access_token},a.access_token&&p.setAccessToken(a.access_token),e}return Object(c.a)(n,[{key:"getHashParams",value:function(){for(var e,t={},n=/([^&;=]+)=?([^&;]*)/g,a=window.location.search.substring(1);e=n.exec(a);)t[e[1]]=decodeURIComponent(e[2]);return t}},{key:"render",value:function(){return l.a.createElement("div",{className:"header"},l.a.createElement("ul",{className:"nav-bar",id:"nav-bar"},l.a.createElement("li",{className:"title"},l.a.createElement("img",{src:y.a}),l.a.createElement("h1",null,"Spotify Insight")),this.state.loggedIn?l.a.createElement("li",null,l.a.createElement("a",{href:"https://jimmikedave.github.io/Spotify-Insight/"},l.a.createElement("button",null,l.a.createElement("h2",null,"Log out")))):l.a.createElement("li",null,l.a.createElement("a",{href:"https://spotify-user-info-backend.herokuapp.com/login"},l.a.createElement("button",null,l.a.createElement("h2",null,"Log in"))))))}}]),n}(a.Component),v=n(9),E=n.n(v),f=(n(16),new d.a),b=function(e){Object(r.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(o.a)(this,n);var a=(e=t.call(this)).getHashParams();return e.state={nowPlaying:{artist:"Not Checked",name:"Not Checked",image:"",device:"",volume:""},top50:{name:[],artist:[]},loggedIn:!!a.access_token},a.access_token&&f.setAccessToken(a.access_token),e}return Object(c.a)(n,[{key:"getHashParams",value:function(){for(var e,t={},n=/([^&;=]+)=?([^&;]*)/g,a=window.location.search.substring(1);e=n.exec(a);)t[e[1]]=decodeURIComponent(e[2]);return t}},{key:"getNowPlaying",value:function(){var e=this;if(this.state.loggedIn)f.getMyCurrentPlaybackState().then((function(t){var n=document.getElementById("current-display"),a=document.getElementById("top50-list"),l=document.getElementById("display-container"),i=document.getElementById("default");n.style.display="block",a.style.display="none",l.style.display="block",i.style.display="none",""===t?e.setState({nowPlaying:{name:"You are not listening to anything at the moment :(",artist:"Go throw something on!",device:"Nothing",volume:"*cricket*",image:E.a}}):e.setState({nowPlaying:{artist:t.item.artists[0].name,name:t.item.name,image:t.item.album.images[0].url,device:t.device.name,volume:t.device.volume_percent}})}));else{var t=document.getElementById("current-status");t.innerHTML="Please log into Spotify to view Now Playing",t.classList.add("status"),setTimeout((function(){t.classList.remove("status"),t.innerHTML=""}),3e3)}}},{key:"getMyTopTracks",value:function(){var e=this;if(this.state.loggedIn)f.getMyTopTracks({limit:50}).then((function(t){var n,a=[],l=[],i=document.getElementById("top50-list"),s=document.getElementById("current-display"),o=document.getElementById("default");if(i.style.display="block",s.style.display="none",o.style.display="none",0===e.state.top50.name.length){for(n=0;n<t.items.length;n++)a.push(t.items[n].name),l.push(t.items[n].artists[0].name);if(50===a.length&&50===l.length)for(e.setState({top50:{name:a,artist:l}}),n=0;n<e.state.top50.name.length;n++)e.createListItem(e.state.top50.name[n],e.state.top50.artist[n])}}));else{var t=document.getElementById("50-status");t.innerHTML="Please log into Spotify to view your Current Top 50 Songs",t.classList.add("status"),setTimeout((function(){t.classList.remove("status"),t.innerHTML=""}),3e3)}}},{key:"createListItem",value:function(e,t){var n=document.getElementById("top50"),a=document.createElement("li");a.textContent=e+" by "+t,n.appendChild(a)}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"tab"},l.a.createElement("div",{className:"btn-group"},l.a.createElement("button",{onClick:function(){e.getNowPlaying()}},l.a.createElement("h1",null,"Check Now Playing")),l.a.createElement("br",null),l.a.createElement("button",{onClick:function(){e.getMyTopTracks()}},l.a.createElement("h1",null,"Show Top 50 Songs"))),l.a.createElement("div",{id:"display-container",className:"display-container"},l.a.createElement("div",{id:"default",className:"default"},l.a.createElement("div",{id:"current-status"}),l.a.createElement("div",{id:"50-status"}),l.a.createElement("img",{src:y.a})),l.a.createElement("div",{id:"current-display",style:{background:this.state.nowPlaying.image,display:"none"}},l.a.createElement("div",null,l.a.createElement("h1",null,"Now Playing: ",this.state.nowPlaying.name),l.a.createElement("h2",null," By: ",this.state.nowPlaying.artist)),l.a.createElement("div",null,l.a.createElement("img",{src:this.state.nowPlaying.image,style:{width:350}})),l.a.createElement("div",null,l.a.createElement("h3",null,"Listening On: ",this.state.nowPlaying.device),l.a.createElement("h3",null,"Volume Level: ",this.state.nowPlaying.volume))),l.a.createElement("div",{className:"top50-list",id:"top50-list"},l.a.createElement("ol",{id:"top50",style:{fontSize:30}},l.a.createElement("h2",null,"Your Current Top 50")))))}}]),n}(a.Component),k=(new d.a,function(e){Object(r.a)(n,e);var t=Object(m.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(h,null),l.a.createElement(b,null))}}]),n}(a.Component));s.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(k,null)),document.getElementById("root"))}],[[10,1,2]]]);
//# sourceMappingURL=main.d54b42ae.chunk.js.map